<title-bar back-path="/"></title-bar>

<menu></menu>

<div class="bar bar-standard bar-footer">
  <a class="icon icon-trash pull-left" ng-click="main.deleteRecipe()"></a>
  <a class="icon icon-edit pull-right" ng-href="/recipes/{{main.recipe.id}}/edit"></a>
</div>

<div class="modal" ng-class="{ active: main.deletePromptVisible }">
  <header class="bar bar-nav">
    <a class="icon icon-close pull-right" ng-click="main.cancelDelete()"></a>
  </header>

  <div class="content">
    <h2>Are you sure you want to delete this recipe?</h2>
    <button type="button" class="btn btn-block" ng-click="main.cancelDelete()">No</button>
    <button type="button" class="btn btn-block" ng-click="main.confirmDelete()">Yes</button>
  </div>
</div>

<div class="content">
  <div class="content-padded">
    <h1>{{main.recipe.title}}</h1>

    <p ng-if="main.recipe.notes">{{main.recipe.notes}}</p>
  </div>

  <div ng-if="main.recipe.ingredients.length > 0">
    <div class="content-padded">
      <h2>Ingredients</h2>
    </div>

    <ul class="table-view">
      <li class="table-view-cell full-width grid" ng-repeat="ingredient in main.recipe.ingredients | orderBy:'index'">
        <div class="quantity col-25">
          {{ingredient.quantity}}
        </div>

        <div class="description col-75">
          {{ingredient | ingredientDescription}}
        </div>
      </li>
    </ul>
  </div>

  <div ng-if="main.recipe.steps.length > 0">
    <div class="content-padded">
      <h2>Steps</h2>
    </div>

    <ul class="table-view">
      <li class="table-view-cell full-width step" ng-repeat="step in main.recipe.steps | orderBy:'index'">
        {{step.description}}
      </li>
    </ul>
  </div>
</div>
